# å¼€å‘è¿›åº¦æŠ¥å‘Š - 2026å¹´1æœˆ7æ—¥

## âœ… å·²å®ŒæˆåŠŸèƒ½

### 1. ç”¨æˆ·ç™»å½•çŠ¶æ€ç®¡ç†ï¼ˆä¼˜å…ˆçº§ï¼šP0ï¼‰
**çŠ¶æ€**: âœ… å·²å®Œæˆ

#### å®ç°å†…å®¹ï¼š
1. **åˆ›å»ºç”¨æˆ·çŠ¶æ€ç®¡ç†æ¨¡å—** (`frontend/src/store/user.js`)
   - å®ç°äº†å®Œæ•´çš„ç”¨æˆ·çŠ¶æ€ç®¡ç†
   - æ”¯æŒç”¨æˆ·ä¿¡æ¯å­˜å‚¨ï¼ˆuserId, username, token, rolesï¼‰
   - æ”¯æŒç™»å½•çŠ¶æ€æŒä¹…åŒ–
   - æä¾› getter æ–¹æ³•ï¼ˆisLoggedIn, getUserId, hasRoleï¼‰

2. **ä¿®å¤ç¡¬ç¼–ç userIdé—®é¢˜**
   - âœ… `quota.vue` - é…é¢ç®¡ç†é¡µé¢
   - âœ… `credit.vue` - ä¿¡ç”¨ç®¡ç†é¡µé¢
   - âœ… `company.vue` - ä¼ä¸šä¿¡æ¯é¡µé¢ï¼ˆ2å¤„ï¼‰
   - âœ… `quotes.vue` - è¯¢æŠ¥ä»·é¡µé¢

3. **é›†æˆåˆ°ç™»å½•æµç¨‹**
   - æ›´æ–° `login/index.vue` åœ¨ç™»å½•æˆåŠŸåè®¾ç½®ç”¨æˆ·çŠ¶æ€
   - æ›´æ–° `main.js` åœ¨åº”ç”¨å¯åŠ¨æ—¶æ¢å¤ç™»å½•çŠ¶æ€

#### æŠ€æœ¯è¦ç‚¹ï¼š
- ä½¿ç”¨ Pinia è¿›è¡ŒçŠ¶æ€ç®¡ç†
- Token æŒä¹…åŒ–åˆ° localStorage
- è‡ªåŠ¨æ¢å¤ç™»å½•çŠ¶æ€

---

### 2. å¼€å‘å·¥ä½œå°æ–‡æ¡£ç®¡ç†ï¼ˆä¼˜å…ˆçº§ï¼šP0ï¼‰
**çŠ¶æ€**: âœ… å·²å®Œæˆ

#### åç«¯å®ç°ï¼ˆservice-developmentï¼‰ï¼š

1. **æ•°æ®åº“è¡¨è®¾è®¡**
   ```sql
   CREATE TABLE project_document (
     id BIGINT PRIMARY KEY AUTO_INCREMENT,
     project_id BIGINT NOT NULL,
     doc_name VARCHAR(200) NOT NULL,
     doc_type VARCHAR(50),
     file_url VARCHAR(500),
     file_size BIGINT,
     version VARCHAR(20) DEFAULT 'v1.0',
     upload_user_id BIGINT,
     status VARCHAR(20) DEFAULT 'DRAFT',
     create_time DATETIME,
     update_time DATETIME
   );
   ```

2. **å®ä½“ç±»** - `ProjectDocument.java`
   - ä½¿ç”¨ MyBatis-Plus æ³¨è§£
   - åŒ…å«å®Œæ•´çš„æ–‡æ¡£å±æ€§

3. **Mapper æ¥å£** - `ProjectDocumentMapper.java`
   - ç»§æ‰¿ BaseMapper æä¾›åŸºç¡€CRUD

4. **Service å±‚**
   - æ¥å£: `ProjectDocumentService.java`
   - å®ç°: `ProjectDocumentServiceImpl.java`
   - åŠŸèƒ½ï¼š
     - ä¿å­˜æ–‡æ¡£
     - åˆ†é¡µæŸ¥è¯¢ï¼ˆæ”¯æŒé¡¹ç›®IDã€ç±»å‹ã€çŠ¶æ€è¿‡æ»¤ï¼‰
     - æ–‡æ¡£è¯¦æƒ…ã€æ›´æ–°ã€åˆ é™¤
     - ç‰ˆæœ¬ç®¡ç†
     - æŒ‰é¡¹ç›®æŸ¥è¯¢

5. **Controller å±‚** - `ProjectDocumentController.java`
   - âœ… `POST /api/development/document/upload` - ä¸Šä¼ æ–‡æ¡£
   - âœ… `GET /api/development/document/list` - æ–‡æ¡£åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰
   - âœ… `GET /api/development/document/{id}` - æ–‡æ¡£è¯¦æƒ…
   - âœ… `GET /api/development/document/download/{id}` - ä¸‹è½½æ–‡æ¡£
   - âœ… `PUT /api/development/document/{id}` - æ›´æ–°æ–‡æ¡£
   - âœ… `DELETE /api/development/document/{id}` - åˆ é™¤æ–‡æ¡£
   - âœ… `POST /api/development/document/{id}/version` - åˆ›å»ºæ–°ç‰ˆæœ¬
   - âœ… `GET /api/development/document/project/{projectId}` - æŒ‰é¡¹ç›®æŸ¥è¯¢

#### å‰ç«¯å®ç°ï¼š

1. **API æ¥å£å°è£…** (`frontend/src/api/document.js`)
   - å°è£…äº†æ‰€æœ‰æ–‡æ¡£ç®¡ç†æ¥å£
   - æ”¯æŒæ–‡ä»¶ä¸Šä¼ ï¼ˆmultipart/form-dataï¼‰

2. **å·¥ä½œå°é¡µé¢å¢å¼º** (`workbench.vue`)
   - âœ… æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
     - æ”¯æŒå¤šæ–‡ä»¶ä¸Šä¼ 
     - æ–‡ä»¶ç±»å‹å’Œå¤§å°éªŒè¯ï¼ˆæœ€å¤§50MBï¼‰
     - ä¸Šä¼ è¿›åº¦æ˜¾ç¤º
   - âœ… æ–‡æ¡£åˆ—è¡¨å±•ç¤º
     - è¡¨æ ¼å±•ç¤ºï¼šæ–‡æ¡£åç§°ã€ç±»å‹ã€ç‰ˆæœ¬ã€çŠ¶æ€ã€å¤§å°ã€æ—¶é—´
     - çŠ¶æ€æ ‡ç­¾ï¼ˆè‰ç¨¿/å®¡æ ¸ä¸­/å·²æ‰¹å‡†ï¼‰
     - æ–‡ä»¶å¤§å°æ ¼å¼åŒ–æ˜¾ç¤º
   - âœ… æ–‡æ¡£æ“ä½œ
     - ä¸‹è½½åŠŸèƒ½
     - ç‰ˆæœ¬ç®¡ç†
     - åˆ é™¤åŠŸèƒ½ï¼ˆå¸¦ç¡®è®¤ï¼‰
   - âœ… é¡¹ç›®åˆ‡æ¢è‡ªåŠ¨åˆ·æ–°æ–‡æ¡£åˆ—è¡¨

#### æŠ€æœ¯è¦ç‚¹ï¼š
- ä½¿ç”¨ Element Plus Upload ç»„ä»¶
- FormData å¤„ç†æ–‡ä»¶ä¸Šä¼ 
- å“åº”å¼æ•°æ®ç»‘å®š
- çŠ¶æ€ç®¡ç†é›†æˆ

---

## ğŸ“Š å¼€å‘ç»Ÿè®¡

| æ¨¡å— | å®Œæˆåº¦ | æ–°å¢æ–‡ä»¶ | ä¿®æ”¹æ–‡ä»¶ |
|------|--------|----------|----------|
| ç”¨æˆ·çŠ¶æ€ç®¡ç† | 100% | 1 | 5 |
| æ–‡æ¡£ç®¡ç†åç«¯ | 100% | 4 | 1 |
| æ–‡æ¡£ç®¡ç†å‰ç«¯ | 100% | 1 | 1 |
| **æ€»è®¡** | **100%** | **6** | **7** |

---

## ğŸ“ æ–°å¢æ–‡ä»¶æ¸…å•

### åç«¯ï¼ˆJavaï¼‰
1. `service-development/src/main/java/com/example/development/entity/ProjectDocument.java`
2. `service-development/src/main/java/com/example/development/mapper/ProjectDocumentMapper.java`
3. `service-development/src/main/java/com/example/development/service/ProjectDocumentService.java`
4. `service-development/src/main/java/com/example/development/service/impl/ProjectDocumentServiceImpl.java`
5. `service-development/src/main/java/com/example/development/controller/ProjectDocumentController.java`

### å‰ç«¯ï¼ˆVue.jsï¼‰
1. `frontend/src/store/user.js`
2. `frontend/src/api/document.js`

---

## ğŸ”§ ä¿®æ”¹æ–‡ä»¶æ¸…å•

### åç«¯
1. `service-development/src/main/resources/init.sql` - æ·»åŠ  project_document è¡¨

### å‰ç«¯
1. `frontend/src/main.js` - é›†æˆç”¨æˆ·çŠ¶æ€æ¢å¤
2. `frontend/src/views/login/index.vue` - ç™»å½•æˆåŠŸåè®¾ç½®ç”¨æˆ·çŠ¶æ€
3. `frontend/src/views/assets/quota.vue` - ä½¿ç”¨ userStore è·å– userId
4. `frontend/src/views/assets/credit.vue` - ä½¿ç”¨ userStore è·å– userId
5. `frontend/src/views/account/company.vue` - ä½¿ç”¨ userStore è·å– userId
6. `frontend/src/views/market/quotes.vue` - ä½¿ç”¨ userStore è·å– userId
7. `frontend/src/views/development/workbench.vue` - å¢å¼ºæ–‡æ¡£ç®¡ç†åŠŸèƒ½

---

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

æ ¹æ®ã€Šåç»­å¼€å‘è®¡åˆ’.mdã€‹ï¼Œæ¥ä¸‹æ¥å»ºè®®æŒ‰ä¼˜å…ˆçº§å®Œæˆï¼š

### Week 2ï¼ˆæœ¬å‘¨å‰©ä½™ï¼‰
1. **äº¤æ˜“æ’®åˆå¼•æ“ä¼˜åŒ–**ï¼ˆ4å¤©ï¼Œä¼˜å…ˆçº§P0ï¼‰
   - æ·»åŠ èµ„äº§æ ¡éªŒæœåŠ¡
   - å®ç°è‡ªåŠ¨æ’®åˆé€»è¾‘
   - æ·»åŠ å®šæ—¶ä»»åŠ¡
   - æ•°æ®åº“è¡¨å­—æ®µæ‰©å±•

### Week 3-4
1. **è§’è‰²æƒé™ç®¡ç†**ï¼ˆ5å¤©ï¼Œä¼˜å…ˆçº§P1ï¼‰
   - RBAC æ¨¡å‹è®¾è®¡
   - è§’è‰²ã€èœå•ã€æƒé™è¡¨
   - æ¥å£å®ç°

2. **å­—å…¸é…ç½®ç®¡ç†**ï¼ˆ3å¤©ï¼Œä¼˜å…ˆçº§P1ï¼‰
   - å­—å…¸ç±»å‹å’Œæ•°æ®è¡¨
   - å‰åç«¯æ¥å£

3. **JWTç»Ÿä¸€è®¤è¯**ï¼ˆ3å¤©ï¼Œä¼˜å…ˆçº§P1ï¼‰
   - Token ç”Ÿæˆå’ŒéªŒè¯
   - ç»Ÿä¸€æ‹¦æˆªå™¨
   - æƒé™æ³¨è§£

---

## âœ… éªŒæ”¶æ ‡å‡†

### å·²å®ŒæˆåŠŸèƒ½éªŒæ”¶ï¼š

#### 1. ç”¨æˆ·ç™»å½•çŠ¶æ€ç®¡ç†
- âœ… ç™»å½•å userId æ­£ç¡®å­˜å‚¨åœ¨ store
- âœ… æ‰€æœ‰é¡µé¢ä» store è·å– userIdï¼Œæ— ç¡¬ç¼–ç 
- âœ… é¡µé¢åˆ·æ–°åç™»å½•çŠ¶æ€ä¿æŒ
- âœ… é€€å‡ºç™»å½•æ¸…é™¤æ‰€æœ‰çŠ¶æ€

#### 2. æ–‡æ¡£ç®¡ç†åŠŸèƒ½
- âœ… æ–‡æ¡£ä¸Šä¼ æˆåŠŸå¹¶ä¿å­˜åˆ°æ•°æ®åº“
- âœ… æ–‡æ¡£åˆ—è¡¨æ­£ç¡®æ˜¾ç¤º
- âœ… æ–‡æ¡£ä¸‹è½½åŠŸèƒ½å¯ç”¨
- âœ… æ–‡æ¡£åˆ é™¤å¸¦ç¡®è®¤æç¤º
- âœ… æ”¯æŒæŒ‰é¡¹ç›®ç­›é€‰æ–‡æ¡£
- âœ… ç‰ˆæœ¬ç®¡ç†åŠŸèƒ½å°±ç»ª

---

## ğŸš€ å¦‚ä½•æµ‹è¯•

### 1. å¯åŠ¨åç«¯æœåŠ¡
```bash
# å¯åŠ¨ service-developmentï¼ˆç«¯å£8083ï¼‰
cd service-development
mvn spring-boot:run
```

### 2. å¯åŠ¨å‰ç«¯
```bash
cd frontend
npm run dev
```

### 3. æµ‹è¯•æ­¥éª¤
1. è®¿é—® http://localhost:5173/login
2. ç™»å½•ç³»ç»Ÿï¼ˆç”¨æˆ·å: admin, å¯†ç : 123456ï¼‰
3. è¿›å…¥"å¼€å‘å·¥ä½œå°"èœå•
4. é€‰æ‹©ä¸€ä¸ªé¡¹ç›®
5. ä¸Šä¼ æ–‡æ¡£æµ‹è¯•
6. æŸ¥çœ‹æ–‡æ¡£åˆ—è¡¨
7. æµ‹è¯•ä¸‹è½½ã€åˆ é™¤åŠŸèƒ½

---

## ğŸ’¡ æŠ€æœ¯äº®ç‚¹

1. **çŠ¶æ€ç®¡ç†æ¨¡å¼**
   - ä½¿ç”¨ Pinia å®ç°é›†ä¸­å¼çŠ¶æ€ç®¡ç†
   - è§£å†³äº†å¤šç»„ä»¶å…±äº«ç”¨æˆ·çŠ¶æ€é—®é¢˜
   - æŒä¹…åŒ–ç­–ç•¥ç¡®ä¿ç”¨æˆ·ä½“éªŒ

2. **æ–‡ä»¶ä¸Šä¼ å¤„ç†**
   - FormData å®ç°å¤šæ–‡ä»¶ä¸Šä¼ 
   - æ–‡ä»¶å¤§å°å’Œç±»å‹éªŒè¯
   - ä¸Šä¼ è¿›åº¦å’Œé”™è¯¯å¤„ç†

3. **MyBatis-Plus æœ€ä½³å®è·µ**
   - LambdaQueryWrapper ç±»å‹å®‰å…¨æŸ¥è¯¢
   - è‡ªåŠ¨å¡«å……æ—¶é—´å­—æ®µ
   - åˆ†é¡µæ’ä»¶ä½¿ç”¨

4. **å‰åç«¯åˆ†ç¦»æ¶æ„**
   - RESTful API è®¾è®¡
   - ç»Ÿä¸€è¿”å›æ ¼å¼
   - è·¨åŸŸå¤„ç†

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶ä¸Šä¼ è·¯å¾„**
   - å½“å‰ä½¿ç”¨æœ¬åœ°è·¯å¾„ `uploads/documents/`
   - ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ OSSï¼ˆå¦‚é˜¿é‡Œäº‘OSSã€MinIOï¼‰

2. **ç”¨æˆ·è®¤è¯**
   - å½“å‰ token å­˜å‚¨åœ¨ localStorage
   - åç»­éœ€è¦å®ç° JWT è¿‡æœŸå’Œåˆ·æ–°æœºåˆ¶

3. **æ•°æ®åº“åˆå§‹åŒ–**
   - ç¡®ä¿è¿è¡Œ `init.sql` åˆ›å»º `project_document` è¡¨
   - å»ºè®®ä½¿ç”¨ Flyway æˆ– Liquibase ç®¡ç†æ•°æ®åº“ç‰ˆæœ¬

4. **ç¯å¢ƒå˜é‡**
   - å‰ç«¯ `VITE_API_BASE_URL` éœ€è¦é…ç½®æ­£ç¡®çš„åç«¯åœ°å€

---

## ğŸ‰ æ€»ç»“

æœ¬æ¬¡å¼€å‘å®Œæˆäº† **Week 1** çš„å…¨éƒ¨ç›®æ ‡ï¼š
- âœ… Day 1-2: ç”¨æˆ·ç™»å½•çŠ¶æ€ç®¡ç†ï¼ˆå·²å®Œæˆï¼‰
- âœ… Day 3-5: å¼€å‘å·¥ä½œå°æ–‡æ¡£ç®¡ç†ï¼ˆå·²å®Œæˆï¼‰

æ‰€æœ‰ TODO å·²æ¸…é™¤ï¼Œä»£ç è´¨é‡è‰¯å¥½ï¼ŒåŠŸèƒ½å®Œæ•´å¯ç”¨ã€‚å»ºè®®ç»§ç»­æŒ‰è®¡åˆ’æ¨è¿› Week 2 çš„äº¤æ˜“æ’®åˆå¼•æ“å¼€å‘ã€‚

**è¿›åº¦**: ç¬¬ä¸€é˜¶æ®µ 100% å®Œæˆ ğŸŠ
